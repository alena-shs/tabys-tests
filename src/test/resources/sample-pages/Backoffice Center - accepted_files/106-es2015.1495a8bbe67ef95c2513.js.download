(window.webpackJsonp=window.webpackJsonp||[]).push([[106],{Imn2:function(e,t,n){"use strict";n.r(t),n.d(t,"SelectRoleModule",(function(){return u}));var i=n("ofXK"),o=n("tyNb"),r=n("FE47"),l=n("zHfp"),a=n("fXoL"),s=n("jlOU"),c=n("XiUz");function h(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div"),a["\u0275\u0275element"](1,"i",5),a["\u0275\u0275elementEnd"]())}function _(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div"),a["\u0275\u0275elementStart"](1,"h3"),a["\u0275\u0275text"](2," You have no roles. Please contact your administrator. "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]())}function d(e,t){if(1&e){const e=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",6),a["\u0275\u0275listener"]("click",(function(){a["\u0275\u0275restoreView"](e);const n=t.$implicit;return a["\u0275\u0275nextContext"]().selectRole(n)})),a["\u0275\u0275elementStart"](1,"h3"),a["\u0275\u0275text"](2),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=a["\u0275\u0275nextContext"]();a["\u0275\u0275property"]("fxLayoutAlign","center center"),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](n.replace(e.name))}}const p=[{path:"**",component:(()=>{class e{constructor(e,t,n){this.authService=e,this.router=t,this.systemNotificationService=n,this.load=!1,this.roles=[],this.ROLE_BROKER_FINANCIAL="BROKER_FINANCIAL",this.ROLE_SBROKER_FINANCIAL="SBROKER_FINANCIAL",this.CHATBOT_ADMIN="CHATBOT_ADMIN",this.CHATBOT_ADMIN_TABYS="CHATBOT_ADMIN_TABYS",this.AIX_AML="AIX_AML",this.PTD="PTD",this.REPO_CONTROL="REPO_CONTROL",this.REPO_VIEW="REPO_VIEW",this.AIXFM_TM="AIXFM_TM",this.AIXFM_TM_APPROVE="AIXFM_TM_APPROVE",this.AIXCSD_TM_SUB="AIXCSD_TM_SUB",this.AIXCSD_TM_APPROVE_SUB="AIXCSD_TM_APPROVE_SUB"}ngOnInit(){this.loadRoles()}loadRoles(){this.load=!0,this.authService.getAllRole().then(e=>{this.roles=e,this.load=!1}).catch(()=>this.router.navigate(["/login"]).then())}selectRole(e){this.authService.selectRole(e.code).then(()=>{this.authService.getAuthInfo().then(()=>e.name===this.ROLE_BROKER_FINANCIAL||e.name===this.ROLE_SBROKER_FINANCIAL||e.name===this.CHATBOT_ADMIN||e.name===this.CHATBOT_ADMIN_TABYS||e.name===this.PTD||e.name===this.AIXFM_TM||e.name===this.AIXFM_TM_APPROVE||e.name===this.AIXCSD_TM_SUB||e.name===this.AIXCSD_TM_APPROVE_SUB||e.name===this.REPO_CONTROL||e.name===this.REPO_VIEW||e.name===this.AIX_AML?this.authService.redirectModule(e.name).then().catch(()=>this.systemNotificationService.error("error_while_loading_out_service")):this.authService.currentMode?this.router.navigate(["/"+this.authService.currentMode]).then():void 0)})}replace(e){return e?e.replace(/_/g," "):e}}return e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](r.a),a["\u0275\u0275directiveInject"](o.c),a["\u0275\u0275directiveInject"](l.a))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["select-role"]],decls:9,vars:5,consts:[["fxFill",""],[3,"fxLayoutAlign","fxLayout"],[4,"ngIf"],[1,"roles"],["class","roles__role",3,"fxLayoutAlign","click",4,"ngFor","ngForOf"],[1,"select-role","pi","pi-spin","pi-spinner"],[1,"roles__role",3,"fxLayoutAlign","click"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"app-content"),a["\u0275\u0275elementStart"](1,"app-title"),a["\u0275\u0275text"](2," Choose role "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"app-wrapper",0),a["\u0275\u0275elementStart"](4,"div",1),a["\u0275\u0275template"](5,h,2,0,"div",2),a["\u0275\u0275template"](6,_,3,0,"div",2),a["\u0275\u0275elementStart"](7,"div",3),a["\u0275\u0275template"](8,d,3,2,"div",4),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](4),a["\u0275\u0275property"]("fxLayoutAlign","center center")("fxLayout","column"),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.load),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",!t.roles.length&&!t.load),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngForOf",t.roles))},directives:[s.a,c.f,c.c,c.d,i.NgIf,i.NgForOf],styles:[".roles__role[_ngcontent-%COMP%]{margin:5px;padding-left:10px;padding-right:10px;cursor:pointer;min-width:320px;background-color:#fff;box-shadow:-2px 2px 3px 0 rgba(0,0,0,.1)}.roles__role[_ngcontent-%COMP%]:hover{box-shadow:-2px 2px 5px 0 rgba(0,0,0,.3)}[_nghost-%COMP%]   .select-role[_ngcontent-%COMP%]{font-size:3em}"]}),e})()}];let m=(()=>{class e{}return e.\u0275mod=a["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=a["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[o.g.forChild(p)],o.g]}),e})();var A=n("PCNd");let u=(()=>{class e{}return e.\u0275mod=a["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=a["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[i.CommonModule,m,A.a]]}),e})()}}]);