(window.webpackJsonp=window.webpackJsonp||[]).push([[87],{tRJ3:function(e,t,n){"use strict";n.r(t),n.d(t,"EtnModule",(function(){return _e}));var r=n("ofXK"),a=n("tyNb"),o=n("zHfp"),i=n("sE5c"),l=n("mrSG"),s=n("3Pt+"),m=n("PLe5"),d=n("vQTi"),c=n("GoYg"),p=function(e){return e.ACTIVE="ACTIVE",e.INACTIVE="INACTIVE",e}({}),u=n("j3Sx"),f=n("cIrw"),y=n("Ujo5"),x=n("fXoL"),g=n("J7/z"),v=n("7kUa"),h=n("zFJ7"),E=n("Ji6n"),C=n("jhN1"),S=n("XiUz"),b=n("arFO"),I=n("7zfz"),L=n("jIHw"),O=n("znSr"),j=n("FMpt");const w=function(){return{color:"#ccc",cursor:"default"}};function A(e,t){if(1&e){const e=x["\u0275\u0275getCurrentView"]();x["\u0275\u0275elementStart"](0,"div",43),x["\u0275\u0275elementStart"](1,"div",44),x["\u0275\u0275listener"]("click",(function(){x["\u0275\u0275restoreView"](e);const n=t.$implicit;return x["\u0275\u0275nextContext"]().onClick(n.disabled)})),x["\u0275\u0275text"](2),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;x["\u0275\u0275property"]("className","seccode-dropdown"),x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("ngStyle",e.disabled?x["\u0275\u0275pureFunction0"](3,w):""),x["\u0275\u0275advance"](1),x["\u0275\u0275textInterpolate1"](" ",e.label," ")}}function N(e,t){if(1&e&&x["\u0275\u0275element"](0,"p-message",69),2&e){const e=x["\u0275\u0275nextContext"]().index,t=x["\u0275\u0275nextContext"]();x["\u0275\u0275property"]("severity","error")("text",t.translateItemArray[e].get("simpleName").getError("null_value"))}}function T(e,t){if(1&e&&x["\u0275\u0275element"](0,"p-message",69),2&e){const e=x["\u0275\u0275nextContext"]().index,t=x["\u0275\u0275nextContext"]();x["\u0275\u0275property"]("severity","error")("text",t.translateItemArray[e].get("fullName").getError("null_value"))}}function _(e,t){if(1&e&&x["\u0275\u0275element"](0,"p-message",69),2&e){const e=x["\u0275\u0275nextContext"]().index,t=x["\u0275\u0275nextContext"]();x["\u0275\u0275property"]("severity","error")("text",t.translateItemArray[e].get("etnMarketTitle").getError("null_value"))}}function P(e,t){if(1&e&&x["\u0275\u0275element"](0,"p-message",69),2&e){const e=x["\u0275\u0275nextContext"]().index,t=x["\u0275\u0275nextContext"]();x["\u0275\u0275property"]("severity","error")("text",t.translateItemArray[e].get("etnMarketName").getError("null_value"))}}function k(e,t){if(1&e&&x["\u0275\u0275element"](0,"p-message",69),2&e){const e=x["\u0275\u0275nextContext"]().index,t=x["\u0275\u0275nextContext"]();x["\u0275\u0275property"]("severity","error")("text",t.translateItemArray[e].get("etnInfoTitle").getError("null_value"))}}function M(e,t){if(1&e&&x["\u0275\u0275element"](0,"p-message",70),2&e){const e=x["\u0275\u0275nextContext"]().index,t=x["\u0275\u0275nextContext"]();x["\u0275\u0275property"]("severity","error")("text",t.translateItemArray[e].get("description").getError("null_value"))}}function F(e,t){if(1&e&&x["\u0275\u0275element"](0,"p-message",69),2&e){const e=x["\u0275\u0275nextContext"]().index,t=x["\u0275\u0275nextContext"]();x["\u0275\u0275property"]("severity","error")("text",t.translateItemArray[e].get("securityType").getError("null_value"))}}function D(e,t){if(1&e&&x["\u0275\u0275element"](0,"p-message",69),2&e){const e=x["\u0275\u0275nextContext"]().index,t=x["\u0275\u0275nextContext"]();x["\u0275\u0275property"]("severity","error")("text",t.translateItemArray[e].get("securityClass").getError("null_value"))}}function q(e,t){if(1&e&&x["\u0275\u0275element"](0,"p-message",69),2&e){const e=x["\u0275\u0275nextContext"]().index,t=x["\u0275\u0275nextContext"]();x["\u0275\u0275property"]("severity","error")("text",t.translateItemArray[e].get("replicationType").getError("null_value"))}}function R(e,t){if(1&e&&x["\u0275\u0275element"](0,"p-message",69),2&e){const e=x["\u0275\u0275nextContext"]().index,t=x["\u0275\u0275nextContext"]();x["\u0275\u0275property"]("severity","error")("text",t.translateItemArray[e].get("custodian").getError("null_value"))}}function G(e,t){if(1&e&&x["\u0275\u0275element"](0,"p-message",69),2&e){const e=x["\u0275\u0275nextContext"]().index,t=x["\u0275\u0275nextContext"]();x["\u0275\u0275property"]("severity","error")("text",t.translateItemArray[e].get("jurisdiction").getError("null_value"))}}function B(e,t){if(1&e&&x["\u0275\u0275element"](0,"p-message",69),2&e){const e=x["\u0275\u0275nextContext"]().index,t=x["\u0275\u0275nextContext"]();x["\u0275\u0275property"]("severity","error")("text",t.translateItemArray[e].get("auditor").getError("null_value"))}}function V(e,t){if(1&e&&x["\u0275\u0275element"](0,"p-message",69),2&e){const e=x["\u0275\u0275nextContext"]().index,t=x["\u0275\u0275nextContext"]();x["\u0275\u0275property"]("severity","error")("text",t.translateItemArray[e].get("dividendInfo").getError("null_value"))}}function z(e,t){if(1&e&&x["\u0275\u0275element"](0,"p-message",69),2&e){const e=x["\u0275\u0275nextContext"]().index,t=x["\u0275\u0275nextContext"]();x["\u0275\u0275property"]("severity","error")("text",t.translateItemArray[e].get("assetName").getError("null_value"))}}function $(e,t){if(1&e&&x["\u0275\u0275element"](0,"p-message",69),2&e){const e=x["\u0275\u0275nextContext"]().index,t=x["\u0275\u0275nextContext"]();x["\u0275\u0275property"]("severity","error")("text",t.translateItemArray[e].get("assetClass").getError("null_value"))}}function J(e,t){if(1&e&&x["\u0275\u0275element"](0,"p-message",69),2&e){const e=x["\u0275\u0275nextContext"]().index,t=x["\u0275\u0275nextContext"]();x["\u0275\u0275property"]("severity","error")("text",t.translateItemArray[e].get("assetListing").getError("null_value"))}}function H(e,t){if(1&e&&x["\u0275\u0275element"](0,"p-message",69),2&e){const e=x["\u0275\u0275nextContext"]().index,t=x["\u0275\u0275nextContext"]();x["\u0275\u0275property"]("severity","error")("text",t.translateItemArray[e].get("assetCurrency").getError("null_value"))}}function U(e,t){if(1&e&&x["\u0275\u0275element"](0,"p-message",69),2&e){const e=x["\u0275\u0275nextContext"]().index,t=x["\u0275\u0275nextContext"]();x["\u0275\u0275property"]("severity","error")("text",t.translateItemArray[e].get("assetBenchmark").getError("null_value"))}}function X(e,t){if(1&e&&x["\u0275\u0275element"](0,"p-message",69),2&e){const e=x["\u0275\u0275nextContext"]().index,t=x["\u0275\u0275nextContext"]();x["\u0275\u0275property"]("severity","error")("text",t.translateItemArray[e].get("investmentConsultant").getError("null_value"))}}function Y(e,t){if(1&e&&x["\u0275\u0275element"](0,"p-message",69),2&e){const e=x["\u0275\u0275nextContext"]().index,t=x["\u0275\u0275nextContext"]();x["\u0275\u0275property"]("severity","error")("text",t.translateItemArray[e].get("assetCustodian").getError("null_value"))}}function Z(e,t){if(1&e&&(x["\u0275\u0275elementStart"](0,"div"),x["\u0275\u0275elementStart"](1,"label",45),x["\u0275\u0275elementStart"](2,"span"),x["\u0275\u0275text"](3),x["\u0275\u0275elementStart"](4,"span",7),x["\u0275\u0275text"](5,"*"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](6,"div",46),x["\u0275\u0275elementStart"](7,"span",47),x["\u0275\u0275text"](8),x["\u0275\u0275elementEnd"](),x["\u0275\u0275element"](9,"input",48),x["\u0275\u0275template"](10,N,1,2,"p-message",38),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](11,"div",46),x["\u0275\u0275elementStart"](12,"span"),x["\u0275\u0275text"](13),x["\u0275\u0275elementEnd"](),x["\u0275\u0275element"](14,"input",49),x["\u0275\u0275template"](15,T,1,2,"p-message",38),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](16,"div",46),x["\u0275\u0275elementStart"](17,"span"),x["\u0275\u0275text"](18),x["\u0275\u0275elementEnd"](),x["\u0275\u0275element"](19,"input",50),x["\u0275\u0275template"](20,_,1,2,"p-message",38),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](21,"div",46),x["\u0275\u0275elementStart"](22,"span"),x["\u0275\u0275text"](23),x["\u0275\u0275elementEnd"](),x["\u0275\u0275element"](24,"input",51),x["\u0275\u0275template"](25,P,1,2,"p-message",38),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](26,"div",46),x["\u0275\u0275elementStart"](27,"span"),x["\u0275\u0275text"](28),x["\u0275\u0275elementEnd"](),x["\u0275\u0275element"](29,"input",52),x["\u0275\u0275template"](30,k,1,2,"p-message",38),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](31,"div",46),x["\u0275\u0275elementStart"](32,"span"),x["\u0275\u0275text"](33),x["\u0275\u0275elementEnd"](),x["\u0275\u0275element"](34,"textarea",53),x["\u0275\u0275template"](35,M,1,2,"p-message",54),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](36,"div",12),x["\u0275\u0275elementStart"](37,"div",13),x["\u0275\u0275elementStart"](38,"div",46),x["\u0275\u0275elementStart"](39,"span"),x["\u0275\u0275text"](40),x["\u0275\u0275elementStart"](41,"span",7),x["\u0275\u0275text"](42,"*"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275element"](43,"input",55),x["\u0275\u0275template"](44,F,1,2,"p-message",38),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](45,"div",46),x["\u0275\u0275elementStart"](46,"span"),x["\u0275\u0275text"](47),x["\u0275\u0275elementStart"](48,"span",7),x["\u0275\u0275text"](49,"*"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275element"](50,"input",56),x["\u0275\u0275template"](51,D,1,2,"p-message",38),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](52,"div",46),x["\u0275\u0275elementStart"](53,"span"),x["\u0275\u0275text"](54),x["\u0275\u0275elementStart"](55,"span",7),x["\u0275\u0275text"](56,"*"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275element"](57,"input",57),x["\u0275\u0275template"](58,q,1,2,"p-message",38),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](59,"div",46),x["\u0275\u0275elementStart"](60,"span"),x["\u0275\u0275text"](61),x["\u0275\u0275elementStart"](62,"span",7),x["\u0275\u0275text"](63,"*"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275element"](64,"input",58),x["\u0275\u0275template"](65,R,1,2,"p-message",38),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](66,"div",46),x["\u0275\u0275elementStart"](67,"span"),x["\u0275\u0275text"](68),x["\u0275\u0275elementStart"](69,"span",7),x["\u0275\u0275text"](70,"*"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275element"](71,"input",59),x["\u0275\u0275template"](72,G,1,2,"p-message",38),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](73,"div",46),x["\u0275\u0275elementStart"](74,"span"),x["\u0275\u0275text"](75),x["\u0275\u0275elementStart"](76,"span",7),x["\u0275\u0275text"](77,"*"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275element"](78,"input",60),x["\u0275\u0275template"](79,B,1,2,"p-message",38),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](80,"div",46),x["\u0275\u0275elementStart"](81,"span"),x["\u0275\u0275text"](82),x["\u0275\u0275elementStart"](83,"span",7),x["\u0275\u0275text"](84,"*"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275element"](85,"input",61),x["\u0275\u0275template"](86,V,1,2,"p-message",38),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](87,"div",13),x["\u0275\u0275elementStart"](88,"div",46),x["\u0275\u0275elementStart"](89,"span"),x["\u0275\u0275text"](90),x["\u0275\u0275elementStart"](91,"span",7),x["\u0275\u0275text"](92,"*"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275element"](93,"input",62),x["\u0275\u0275template"](94,z,1,2,"p-message",38),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](95,"div",46),x["\u0275\u0275elementStart"](96,"span"),x["\u0275\u0275text"](97),x["\u0275\u0275elementStart"](98,"span",7),x["\u0275\u0275text"](99,"*"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275element"](100,"input",63),x["\u0275\u0275template"](101,$,1,2,"p-message",38),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](102,"div",46),x["\u0275\u0275elementStart"](103,"span"),x["\u0275\u0275text"](104),x["\u0275\u0275elementStart"](105,"span",7),x["\u0275\u0275text"](106,"*"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275element"](107,"input",64),x["\u0275\u0275template"](108,J,1,2,"p-message",38),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](109,"div",46),x["\u0275\u0275elementStart"](110,"span"),x["\u0275\u0275text"](111),x["\u0275\u0275elementStart"](112,"span",7),x["\u0275\u0275text"](113,"*"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275element"](114,"input",65),x["\u0275\u0275template"](115,H,1,2,"p-message",38),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](116,"div",46),x["\u0275\u0275elementStart"](117,"span"),x["\u0275\u0275text"](118),x["\u0275\u0275elementStart"](119,"span",7),x["\u0275\u0275text"](120,"*"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275element"](121,"input",66),x["\u0275\u0275template"](122,U,1,2,"p-message",38),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](123,"div",46),x["\u0275\u0275elementStart"](124,"span"),x["\u0275\u0275text"](125),x["\u0275\u0275elementStart"](126,"span",7),x["\u0275\u0275text"](127,"*"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275element"](128,"input",67),x["\u0275\u0275template"](129,X,1,2,"p-message",38),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](130,"div",46),x["\u0275\u0275elementStart"](131,"span"),x["\u0275\u0275text"](132),x["\u0275\u0275elementStart"](133,"span",7),x["\u0275\u0275text"](134,"*"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275element"](135,"input",68),x["\u0275\u0275template"](136,Y,1,2,"p-message",38),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=t.index,r=x["\u0275\u0275nextContext"]();x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("formGroupName",n),x["\u0275\u0275advance"](2),x["\u0275\u0275textInterpolate1"]("",e.get("languageCode").value," "),x["\u0275\u0275advance"](5),x["\u0275\u0275textInterpolate"]("Simple name"),x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("ngIf",r.translateItemArray[n].get("simpleName").hasError("null_value")),x["\u0275\u0275advance"](3),x["\u0275\u0275textInterpolate"]("Full name"),x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("ngIf",r.translateItemArray[n].get("fullName").hasError("null_value")),x["\u0275\u0275advance"](3),x["\u0275\u0275textInterpolate"]("Etn Market Title"),x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("ngIf",r.translateItemArray[n].get("etnMarketTitle").hasError("null_value")),x["\u0275\u0275advance"](3),x["\u0275\u0275textInterpolate"]("Etn Market Name"),x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("ngIf",r.translateItemArray[n].get("etnMarketName").hasError("null_value")),x["\u0275\u0275advance"](3),x["\u0275\u0275textInterpolate"]("Etn Info title"),x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("ngIf",r.translateItemArray[n].get("etnInfoTitle").hasError("null_value")),x["\u0275\u0275advance"](3),x["\u0275\u0275textInterpolate"]("Description"),x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("ngIf",r.translateItemArray[n].get("description").hasError("null_value")),x["\u0275\u0275advance"](5),x["\u0275\u0275textInterpolate"]("Security Type"),x["\u0275\u0275advance"](4),x["\u0275\u0275property"]("ngIf",r.translateItemArray[n].get("securityType").hasError("null_value")),x["\u0275\u0275advance"](3),x["\u0275\u0275textInterpolate"]("Security Class"),x["\u0275\u0275advance"](4),x["\u0275\u0275property"]("ngIf",r.translateItemArray[n].get("securityClass").hasError("null_value")),x["\u0275\u0275advance"](3),x["\u0275\u0275textInterpolate"]("Replication Type"),x["\u0275\u0275advance"](4),x["\u0275\u0275property"]("ngIf",r.translateItemArray[n].get("replicationType").hasError("null_value")),x["\u0275\u0275advance"](3),x["\u0275\u0275textInterpolate"]("Custodian"),x["\u0275\u0275advance"](4),x["\u0275\u0275property"]("ngIf",r.translateItemArray[n].get("custodian").hasError("null_value")),x["\u0275\u0275advance"](3),x["\u0275\u0275textInterpolate"]("Jurisdiction"),x["\u0275\u0275advance"](4),x["\u0275\u0275property"]("ngIf",r.translateItemArray[n].get("jurisdiction").hasError("null_value")),x["\u0275\u0275advance"](3),x["\u0275\u0275textInterpolate"]("Auditor"),x["\u0275\u0275advance"](4),x["\u0275\u0275property"]("ngIf",r.translateItemArray[n].get("auditor").hasError("null_value")),x["\u0275\u0275advance"](3),x["\u0275\u0275textInterpolate"]("Dividend Info"),x["\u0275\u0275advance"](4),x["\u0275\u0275property"]("ngIf",r.translateItemArray[n].get("dividendInfo").hasError("null_value")),x["\u0275\u0275advance"](4),x["\u0275\u0275textInterpolate"]("Base Asset Name"),x["\u0275\u0275advance"](4),x["\u0275\u0275property"]("ngIf",r.translateItemArray[n].get("assetName").hasError("null_value")),x["\u0275\u0275advance"](3),x["\u0275\u0275textInterpolate"]("Base Asset Class"),x["\u0275\u0275advance"](4),x["\u0275\u0275property"]("ngIf",r.translateItemArray[n].get("assetClass").hasError("null_value")),x["\u0275\u0275advance"](3),x["\u0275\u0275textInterpolate"]("Base Asset Listing"),x["\u0275\u0275advance"](4),x["\u0275\u0275property"]("ngIf",r.translateItemArray[n].get("assetListing").hasError("null_value")),x["\u0275\u0275advance"](3),x["\u0275\u0275textInterpolate"]("Base Asset Currency"),x["\u0275\u0275advance"](4),x["\u0275\u0275property"]("ngIf",r.translateItemArray[n].get("assetCurrency").hasError("null_value")),x["\u0275\u0275advance"](3),x["\u0275\u0275textInterpolate"]("Base Asset Benchmark"),x["\u0275\u0275advance"](4),x["\u0275\u0275property"]("ngIf",r.translateItemArray[n].get("assetBenchmark").hasError("null_value")),x["\u0275\u0275advance"](3),x["\u0275\u0275textInterpolate"]("Investment Consultant"),x["\u0275\u0275advance"](4),x["\u0275\u0275property"]("ngIf",r.translateItemArray[n].get("investmentConsultant").hasError("null_value")),x["\u0275\u0275advance"](3),x["\u0275\u0275textInterpolate"]("Base Asset Custodian"),x["\u0275\u0275advance"](4),x["\u0275\u0275property"]("ngIf",r.translateItemArray[n].get("assetCustodian").hasError("null_value"))}}function K(e,t){if(1&e&&(x["\u0275\u0275elementStart"](0,"div",43),x["\u0275\u0275elementStart"](1,"div"),x["\u0275\u0275text"](2),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;x["\u0275\u0275property"]("className","seccode-dropdown"),x["\u0275\u0275advance"](2),x["\u0275\u0275textInterpolate1"](" ",e.label," ")}}function Q(e,t){if(1&e){const e=x["\u0275\u0275getCurrentView"]();x["\u0275\u0275elementStart"](0,"img",71),x["\u0275\u0275listener"]("click",(function(){return x["\u0275\u0275restoreView"](e),x["\u0275\u0275nextContext"](),x["\u0275\u0275reference"](98).click()})),x["\u0275\u0275elementEnd"]()}if(2&e){const e=x["\u0275\u0275nextContext"]();x["\u0275\u0275property"]("src",e.etnPictureSrc,x["\u0275\u0275sanitizeUrl"])}}function W(e,t){if(1&e){const e=x["\u0275\u0275getCurrentView"]();x["\u0275\u0275elementStart"](0,"img",72),x["\u0275\u0275listener"]("click",(function(){return x["\u0275\u0275restoreView"](e),x["\u0275\u0275nextContext"](),x["\u0275\u0275reference"](98).click()})),x["\u0275\u0275elementEnd"]()}}function ee(e,t){if(1&e&&x["\u0275\u0275element"](0,"p-message",69),2&e){const e=x["\u0275\u0275nextContext"]();x["\u0275\u0275property"]("severity","error")("text",e.form.controls.fileId.getError("null_value"))}}let te=(()=>{class e{constructor(e,t,n,r,a,o,i,l,m,d){this.languageControllerService=e,this.config=t,this.ref=n,this.fb=r,this.systemNotificationService=a,this.marketDataService=o,this.etnService=i,this.ngZone=l,this.sanitizer=m,this.fileService=d,this.form=this.fb.group({symbol:["",s.s.required],comment:[""],translates:[],status:["",s.s.required],currency:["",s.s.required],isin:["",s.s.required],etnListing:["",s.s.required],etnExpenseRatio:["",s.s.required],assetExpenseRatio:["",s.s.required],assetFullInfo:["",s.s.required],assetDividendInfo:["",s.s.required],etnColor:["",s.s.required],fileId:["",s.s.required],isTop:[!1]}),this.formData={},this.noEtnPic=!0,this.symbolDisabled=!0,this.secCodeList=[],this.currencyList=[],this.statusList=[{label:"Inactive",value:p.INACTIVE},{label:"Active",value:p.ACTIVE}],this.header="New Etn",this.languages=[],this.translates=[]}ngOnInit(){var e,t,n;return Object(l.a)(this,void 0,void 0,(function*(){this.languages=yield this.languageControllerService.getLanguages(),(yield this.marketDataService.getInstrumentList()).forEach(e=>{this.secCodeList.push({label:e.secCode,value:e.secCode,disabled:!1})}),(yield this.etnService.getEtnCurrencies()).forEach(e=>{this.currencyList.push({label:e,value:e})}),this.symbolDisabled=!!(null===(t=null===(e=this.config.data)||void 0===e?void 0:e.formData)||void 0===t?void 0:t.symbol),this.formData=null===(n=this.config.data)||void 0===n?void 0:n.formData,this.formData&&this.formData.translates&&(this.translates=this.formData.translates),this.header=this.config.header,this.form=this.fb.group({symbol:[Object(m.j)(this.formData,"symbol"),s.s.required],translates:this.fb.array(this.languages.map(e=>this.createLanguageItem(e))),comment:[Object(m.j)(this.formData,"comment")],status:[Object(m.h)(this.formData,"status",p.INACTIVE),s.s.required],currency:[Object(m.j)(this.formData,"currency"),s.s.required],isin:[Object(m.j)(this.formData,"isin"),s.s.required],etnListing:[Object(m.j)(this.formData,"etnListing"),s.s.required],etnExpenseRatio:[Object(m.j)(this.formData,"etnExpenseRatio"),[s.s.required,s.s.min(0),s.s.pattern("^-?[0-9]\\d*(\\.\\d{1,5})?$")]],assetExpenseRatio:[Object(m.j)(this.formData,"assetExpenseRatio"),[s.s.required,s.s.min(0),s.s.pattern("^-?[0-9]\\d*(\\.\\d{1,5})?$")]],assetFullInfo:[Object(m.j)(this.formData,"assetFullInfo"),s.s.required],assetDividendInfo:[Object(m.j)(this.formData,"assetDividendInfo"),s.s.required],etnColor:[Object(m.j)(this.formData,"etnColor"),[s.s.required,s.s.pattern("^#(([0-9a-fA-F]{2}){3}|([0-9a-fA-F]){3})$")]],fileId:[Object(m.j)(this.formData,"fileId"),s.s.required],isTop:[Object(m.i)(this.formData,"isTop")]}),this.formData&&this.formData.fileId&&this.fileService.getResource(this.formData.fileId).then(e=>{if(!Object(m.k)(e))throw new Error("file is deleted");{const t=URL.createObjectURL(e.body);this.etnPictureSrc=this.sanitizer.bypassSecurityTrustUrl(t),this.noEtnPic=!1,console.log(this.etnPictureSrc," ",this.noEtnPic)}}),this.translateItemArray=this.form.get("translates").controls}))}ngAfterViewInit(){return Object(l.a)(this,void 0,void 0,(function*(){}))}save(){if(!this.form.valid)return this.systemNotificationService.error("Please, fill all required fields"),void this.form.markAllAsTouched();this.etnService.save(this.form.getRawValue()).then(()=>{this.ref.close({update:!0})}).catch(e=>{this.systemNotificationService.error(e.error)})}close(){this.ref.close({update:!1})}createLanguageItem(e){const t=this.getTranslateByCode(e.code);return this.fb.group({languageCode:[Object(m.j)(e,"title"),s.s.required],simpleName:[Object(m.j)(t,"simpleName"),s.s.required],fullName:[Object(m.j)(t,"fullName"),s.s.required],etnMarketTitle:[Object(m.j)(t,"etnMarketTitle"),s.s.required],etnMarketName:[Object(m.j)(t,"etnMarketName"),s.s.required],etnInfoTitle:[Object(m.j)(t,"etnInfoTitle"),s.s.required],description:[Object(m.j)(t,"description")],securityType:[Object(m.j)(t,"securityType"),s.s.required],securityClass:[Object(m.j)(t,"securityClass"),s.s.required],replicationType:[Object(m.j)(t,"replicationType"),s.s.required],custodian:[Object(m.j)(t,"custodian"),s.s.required],jurisdiction:[Object(m.j)(t,"jurisdiction"),s.s.required],auditor:[Object(m.j)(t,"auditor"),s.s.required],dividendInfo:[Object(m.j)(t,"dividendInfo"),s.s.required],assetName:[Object(m.j)(t,"assetName"),s.s.required],assetClass:[Object(m.j)(t,"assetClass"),s.s.required],assetListing:[Object(m.j)(t,"assetListing"),s.s.required],assetCurrency:[Object(m.j)(t,"assetCurrency"),s.s.required],assetBenchmark:[Object(m.j)(t,"assetBenchmark"),s.s.required],investmentConsultant:[Object(m.j)(t,"investmentConsultant"),s.s.required],assetCustodian:[Object(m.j)(t,"assetCustodian"),s.s.required]})}getTranslateByCode(e){return this.translates?this.translates.filter(t=>t.languageCode==e)[0]:null}onClick(e){e&&event.stopPropagation()}onFileInput(e){return Object(l.a)(this,void 0,void 0,(function*(){const t=e[0];let n=yield Object(m.p)(t);n=n.replace("data:"+t.type+";base64,","");const r=f.a.of(this.form.controls.fileId.value||null,n,t.type,t.name);this.uploadToServer(r)}))}uploadToServer(e){this.fileService.uploadFile(e,0,1e6).subscribe(t=>{this.form.controls.fileId.setValue(t),this.etnPictureSrc="data:"+e.type+";base64,"+e.src,this.noEtnPic=!1},e=>{throw e})}changeCheck(){const e=this.form.get("isTop").value;this.form.get("isTop").setValue(!e)}}return e.\u0275fac=function(t){return new(t||e)(x["\u0275\u0275directiveInject"](u.a),x["\u0275\u0275directiveInject"](g.b),x["\u0275\u0275directiveInject"](g.d),x["\u0275\u0275directiveInject"](s.c),x["\u0275\u0275directiveInject"](o.a),x["\u0275\u0275directiveInject"](c.a),x["\u0275\u0275directiveInject"](d.a),x["\u0275\u0275directiveInject"](x.NgZone),x["\u0275\u0275directiveInject"](C.b),x["\u0275\u0275directiveInject"](y.a))},e.\u0275cmp=x["\u0275\u0275defineComponent"]({type:e,selectors:[["edit-etn"]],decls:104,vars:33,consts:[[3,"formGroup","fxLayoutGap","fxLayout","ngSubmit"],["detailsForm","ngForm"],[1,"header"],[1,"divider"],[3,"fxLayout"],[1,"form-field-1"],[1,"label",3,"fxLayout"],[1,"color-red"],["formControlName","symbol","id","symbol","name","symbol","required","true",1,"input",3,"fxLayout","options","disabled","placeholder"],["symbol",""],["pTemplate","item"],["formControlName","currency","id","currency","name","currency","required","true",1,"input",3,"fxLayout","options","placeholder"],["fxLayout","row",2,"justify-content","space-between"],[1,"etn-info__col"],["fxLayout","column",1,"form-field-1"],["formControlName","isin","pInputText","","placeholder","Isin"],["formControlName","etnListing","pInputText","","placeholder","Etn Listing"],["formControlName","etnExpenseRatio","pInputText","","placeholder","Etn Total Expense Ratio","type","text"],["formControlName","assetExpenseRatio","pInputText","","placeholder","Base Asset Total Expense Ratio","type","text"],["formControlName","assetFullInfo","pInputText","","placeholder","Base Asset Full Info Link"],["formControlName","assetDividendInfo","pInputText","","placeholder","Base Asset Dividends"],["formArrayName","translates","fxLayout","column","fxLayoutGap","1em"],[4,"ngFor","ngForOf"],["fxFill","",1,"form-field",3,"fxLayout"],["for","comment"],["id","comment","name","comment","pInputTextarea","","autoResize","autoResize","formControlName","comment"],[1,"form-field"],["formControlName","status","id","status","appendTo","body","name","status","required","true",1,"input",3,"fxLayout","options"],["status",""],["formControlName","etnColor","pInputText","","placeholder","#000000","type","text"],[1,"form-field","check-top"],["binary","true","formControlName","isTop","id","labelTop"],["for","labelTop",3,"click"],[1,"form-field","custom-img"],["alt","",3,"src","click",4,"ngIf","ngIfElse"],["defaultPic",""],["type","file","accept","image/*",2,"display","none",3,"change"],["etnPic",""],["fxLayoutAlign","center",3,"severity","text",4,"ngIf"],[2,"margin-bottom","10px",3,"fxLayoutAlign","fxLayout"],[3,"fxLayoutAlign","fxLayoutGap","fxLayout"],["label","Save","type","submit"],["label","Close","type","button",1,"ui-button-secondary","button_select","no-padding","refresh",3,"click"],[1,"ui-helper-clearfix",3,"className"],[3,"ngStyle","click"],["fxLayout","column",3,"formGroupName"],["fxLayout","column"],[1,"simple-name"],["formControlName","simpleName","pInputText","","placeholder","Simple name"],["formControlName","fullName","pInputText","","placeholder","Full name"],["formControlName","etnMarketTitle","pInputText","","placeholder","Etn Market Title"],["formControlName","etnMarketName","pInputText","","placeholder","Etn Market Name"],["formControlName","etnInfoTitle","pInputText","","placeholder","Etn Info title"],["formControlName","description","pInputTextarea","","placeholder","Description","rows","15",1,"resize",2,"min-height","240px !important"],["class","message","fxLayoutAlign","center",3,"severity","text",4,"ngIf"],["formControlName","securityType","pInputText","","placeholder","Security Type"],["formControlName","securityClass","pInputText","","placeholder","Security Class"],["formControlName","replicationType","pInputText","","placeholder","Replication Type"],["formControlName","custodian","pInputText","","placeholder","Custodian"],["formControlName","jurisdiction","pInputText","","placeholder","Jurisdiction"],["formControlName","auditor","pInputText","","placeholder","Auditor"],["formControlName","dividendInfo","pInputText","","placeholder","Dividend Info"],["formControlName","assetName","pInputText","","placeholder","Base Asset Name"],["formControlName","assetClass","pInputText","","placeholder","Base Asset Class"],["formControlName","assetListing","pInputText","","placeholder","Base Asset Listing"],["formControlName","assetCurrency","pInputText","","placeholder","Base Asset Currency"],["formControlName","assetBenchmark","pInputText","","placeholder","Base Asset Benchmark"],["formControlName","investmentConsultant","pInputText","","placeholder","Investment Consultant"],["formControlName","assetCustodian","pInputText","","placeholder","Base Asset Custodian"],["fxLayoutAlign","center",3,"severity","text"],["fxLayoutAlign","center",1,"message",3,"severity","text"],["alt","",3,"src","click"],["src","assets/img/photo.svg","alt","",3,"click"]],template:function(e,t){if(1&e&&(x["\u0275\u0275elementStart"](0,"form",0,1),x["\u0275\u0275listener"]("ngSubmit",(function(){return t.save()})),x["\u0275\u0275elementStart"](2,"div",2),x["\u0275\u0275elementStart"](3,"label"),x["\u0275\u0275text"](4),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275element"](5,"div",3),x["\u0275\u0275elementStart"](6,"div",4),x["\u0275\u0275elementStart"](7,"div",5),x["\u0275\u0275elementStart"](8,"span",6),x["\u0275\u0275text"](9," Symbol"),x["\u0275\u0275elementStart"](10,"span",7),x["\u0275\u0275text"](11,"*"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](12,"p-dropdown",8,9),x["\u0275\u0275template"](14,A,3,4,"ng-template",10),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](15,"div",5),x["\u0275\u0275elementStart"](16,"span",6),x["\u0275\u0275text"](17," Currency"),x["\u0275\u0275elementStart"](18,"span",7),x["\u0275\u0275text"](19,"*"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275element"](20,"p-dropdown",11,9),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](22,"div",12),x["\u0275\u0275elementStart"](23,"div",13),x["\u0275\u0275elementStart"](24,"div",14),x["\u0275\u0275elementStart"](25,"span",6),x["\u0275\u0275text"](26," Isin"),x["\u0275\u0275elementStart"](27,"span",7),x["\u0275\u0275text"](28,"*"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275element"](29,"input",15),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](30,"div",14),x["\u0275\u0275elementStart"](31,"span",6),x["\u0275\u0275text"](32," Etn Listing"),x["\u0275\u0275elementStart"](33,"span",7),x["\u0275\u0275text"](34,"*"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275element"](35,"input",16),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](36,"div",14),x["\u0275\u0275elementStart"](37,"span",6),x["\u0275\u0275text"](38," Etn Total Expense Ratio"),x["\u0275\u0275elementStart"](39,"span",7),x["\u0275\u0275text"](40,"*"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275element"](41,"input",17),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](42,"div",13),x["\u0275\u0275elementStart"](43,"div",14),x["\u0275\u0275elementStart"](44,"span",6),x["\u0275\u0275text"](45," Base Asset Total Expense Ratio"),x["\u0275\u0275elementStart"](46,"span",7),x["\u0275\u0275text"](47,"*"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275element"](48,"input",18),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](49,"div",14),x["\u0275\u0275elementStart"](50,"span",6),x["\u0275\u0275text"](51," Base Asset Full Info Link"),x["\u0275\u0275elementStart"](52,"span",7),x["\u0275\u0275text"](53,"*"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275element"](54,"input",19),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](55,"div",14),x["\u0275\u0275elementStart"](56,"span",6),x["\u0275\u0275text"](57," Base Asset Dividends"),x["\u0275\u0275elementStart"](58,"span",7),x["\u0275\u0275text"](59,"*"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275element"](60,"input",20),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](61,"div",21),x["\u0275\u0275template"](62,Z,137,42,"div",22),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](63,"div",23),x["\u0275\u0275elementStart"](64,"label",24),x["\u0275\u0275text"](65," Comment "),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](66,"textarea",25),x["\u0275\u0275text"](67,"      "),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](68,"div",12),x["\u0275\u0275elementStart"](69,"div",13),x["\u0275\u0275elementStart"](70,"div",26),x["\u0275\u0275elementStart"](71,"span",6),x["\u0275\u0275text"](72," Status"),x["\u0275\u0275elementStart"](73,"span",7),x["\u0275\u0275text"](74,"*"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](75,"p-dropdown",27,28),x["\u0275\u0275template"](77,K,3,2,"ng-template",10),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](78,"div",26),x["\u0275\u0275elementStart"](79,"span",6),x["\u0275\u0275text"](80," Etn Color"),x["\u0275\u0275elementStart"](81,"span",7),x["\u0275\u0275text"](82,"*"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275element"](83,"input",29),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](84,"div",30),x["\u0275\u0275element"](85,"p-checkbox",31),x["\u0275\u0275elementStart"](86,"label",32),x["\u0275\u0275listener"]("click",(function(){return t.changeCheck()})),x["\u0275\u0275text"](87,"TOP"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](88,"div",13),x["\u0275\u0275elementStart"](89,"div",33),x["\u0275\u0275elementStart"](90,"span",6),x["\u0275\u0275text"](91," Etn Picture"),x["\u0275\u0275elementStart"](92,"span",7),x["\u0275\u0275text"](93,"*"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275template"](94,Q,1,1,"img",34),x["\u0275\u0275template"](95,W,1,0,"ng-template",null,35,x["\u0275\u0275templateRefExtractor"]),x["\u0275\u0275elementStart"](97,"input",36,37),x["\u0275\u0275listener"]("change",(function(e){return t.onFileInput(e.target.files)})),x["\u0275\u0275elementEnd"](),x["\u0275\u0275template"](99,ee,1,2,"p-message",38),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](100,"div",39),x["\u0275\u0275elementStart"](101,"div",40),x["\u0275\u0275element"](102,"p-button",41),x["\u0275\u0275elementStart"](103,"p-button",42),x["\u0275\u0275listener"]("click",(function(){return t.close()})),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"]()),2&e){const e=x["\u0275\u0275reference"](96);x["\u0275\u0275property"]("formGroup",t.form)("fxLayoutGap","1.1em")("fxLayout","column"),x["\u0275\u0275advance"](4),x["\u0275\u0275textInterpolate"](t.header),x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("fxLayout","column"),x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("fxLayout","row"),x["\u0275\u0275advance"](4),x["\u0275\u0275property"]("fxLayout","row")("options",t.secCodeList)("disabled",t.symbolDisabled)("placeholder","Choose the symbol"),x["\u0275\u0275advance"](4),x["\u0275\u0275property"]("fxLayout","row"),x["\u0275\u0275advance"](4),x["\u0275\u0275property"]("fxLayout","row")("options",t.currencyList)("placeholder","Choose the currency"),x["\u0275\u0275advance"](5),x["\u0275\u0275property"]("fxLayout","row"),x["\u0275\u0275advance"](6),x["\u0275\u0275property"]("fxLayout","row"),x["\u0275\u0275advance"](6),x["\u0275\u0275property"]("fxLayout","row"),x["\u0275\u0275advance"](7),x["\u0275\u0275property"]("fxLayout","row"),x["\u0275\u0275advance"](6),x["\u0275\u0275property"]("fxLayout","row"),x["\u0275\u0275advance"](6),x["\u0275\u0275property"]("fxLayout","row"),x["\u0275\u0275advance"](6),x["\u0275\u0275property"]("ngForOf",t.translateItemArray),x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("fxLayout","column"),x["\u0275\u0275advance"](8),x["\u0275\u0275property"]("fxLayout","row"),x["\u0275\u0275advance"](4),x["\u0275\u0275property"]("fxLayout","row")("options",t.statusList),x["\u0275\u0275advance"](4),x["\u0275\u0275property"]("fxLayout","row"),x["\u0275\u0275advance"](11),x["\u0275\u0275property"]("fxLayout","row"),x["\u0275\u0275advance"](4),x["\u0275\u0275property"]("ngIf",!t.noEtnPic&&t.etnPictureSrc)("ngIfElse",e),x["\u0275\u0275advance"](5),x["\u0275\u0275property"]("ngIf",t.form.controls.fileId.hasError("null_value")),x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("fxLayoutAlign","end end"),x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("fxLayoutAlign","center center")("fxLayoutGap","1em")}},directives:[s.t,s.k,s.f,S.e,S.d,b.a,s.j,s.e,s.r,I.e,s.a,v.a,s.b,r.NgForOf,S.f,h.a,E.a,r.NgIf,S.c,L.a,O.b,r.NgStyle,s.g,j.b],styles:["[_nghost-%COMP%]     .ui-inputtext.ng-dirty.ng-invalid{border-color:red}.host[_ngcontent-%COMP%]     .ui-inputtext.ng-dirty.ng-invalid, .ui-inputtext.ng-touched.ng-invalid[_ngcontent-%COMP%]{border:1px solid red}.color-red[_ngcontent-%COMP%], [_nghost-%COMP%]   .color-red[_ngcontent-%COMP%]{color:red!important}.message[_ngcontent-%COMP%]{width:100%}.bold[_ngcontent-%COMP%]{font-weight:700}.resize[_ngcontent-%COMP%]{min-height:40px!important}[_nghost-%COMP%]     .ui-button-secondary, [_nghost-%COMP%]     .ui-button-secondary:active, [_nghost-%COMP%]     .ui-button-secondary:focus, [_nghost-%COMP%]     .ui-button-secondary:hover{background-color:transparent;border:none;font-family:GothamMedium;color:#c09a5d;box-shadow:none}[_nghost-%COMP%]     .ui-button-secondary .pi{color:#007ad9}[_nghost-%COMP%]     .ui-button-secondary .ui-button, [_nghost-%COMP%]     .ui-button-secondary .ui-button:enabled, [_nghost-%COMP%]     .ui-button-secondary .ui-button:enabled:active, [_nghost-%COMP%]     .ui-button-secondary .ui-button:hover{background-color:transparent;border:none;font-family:GothamMedium;color:#c09a5d;box-shadow:none}.elements-control.ng-invalid[_ngcontent-%COMP%]{border-bottom:1px solid red}.input-text[_ngcontent-%COMP%]{width:50%}.simple-name[_ngcontent-%COMP%]{margin-top:10px!important}.form-field-1[_ngcontent-%COMP%]{margin-bottom:1%}.divider[_ngcontent-%COMP%]{width:100%;height:1px;background-color:#c8c8c8;margin-bottom:5px;margin-top:5px}.header[_ngcontent-%COMP%]{padding-top:.5em;font-weight:700}.custom__col[_ngcontent-%COMP%]{width:370px}.custom-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:260px}.check-top[_ngcontent-%COMP%]{margin-top:2%;-moz-column-gap:1%;column-gap:1%;display:flex;align-items:center}"]}),e})();var ne=n("4ypk");let re=(()=>{class e{constructor(e){this.http=e,this.http=e.setControllerPrefix("/etn-fraction")}getEtnFractions(e){return this.http.get("/list",{symbol:e}).toPromise().then(e=>e.body)}saveEtnFraction(e){return this.http.post("",{etnFractionToSave:JSON.stringify(e)}).toPromise().then(e=>e.body)}remove(e){return console.error(e),this.http.delete("",{etnFractionToRemove:JSON.stringify(e)}).toPromise().then(e=>e.body)}}return e.\u0275fac=function(t){return new(t||e)(x["\u0275\u0275inject"](ne.a))},e.\u0275prov=x["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var ae=n("A585");function oe(e,t){if(1&e){const e=x["\u0275\u0275getCurrentView"]();x["\u0275\u0275elementStart"](0,"p-button",28),x["\u0275\u0275listener"]("onClick",(function(){return x["\u0275\u0275restoreView"](e),x["\u0275\u0275nextContext"]().$implicit.canEdit=!0})),x["\u0275\u0275elementEnd"]()}}function ie(e,t){if(1&e){const e=x["\u0275\u0275getCurrentView"]();x["\u0275\u0275elementStart"](0,"p-button",29),x["\u0275\u0275listener"]("onClick",(function(){x["\u0275\u0275restoreView"](e);const t=x["\u0275\u0275nextContext"]().$implicit;return x["\u0275\u0275nextContext"]().saveFraction(t)})),x["\u0275\u0275elementEnd"]()}}function le(e,t){if(1&e){const e=x["\u0275\u0275getCurrentView"]();x["\u0275\u0275elementContainerStart"](0),x["\u0275\u0275elementStart"](1,"div",22),x["\u0275\u0275elementStart"](2,"div",9),x["\u0275\u0275elementStart"](3,"div",6),x["\u0275\u0275element"](4,"input",23),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](5,"div",6),x["\u0275\u0275element"](6,"input",24),x["\u0275\u0275elementEnd"](),x["\u0275\u0275template"](7,oe,1,0,"p-button",25),x["\u0275\u0275template"](8,ie,1,0,"p-button",26),x["\u0275\u0275elementStart"](9,"p-button",27),x["\u0275\u0275listener"]("onClick",(function(){x["\u0275\u0275restoreView"](e);const n=t.$implicit;return x["\u0275\u0275nextContext"]().deleteFraction(n)})),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=t.$implicit;x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("formGroup",e),x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("fxLayout","row")("fxLayoutGap","1em"),x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("readOnly",!0),x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("readOnly",!e.canEdit),x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("ngIf",!e.canEdit),x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("ngIf",e.canEdit)}}let se=(()=>{class e{constructor(e,t,n,r,a,o,i){this.config=e,this.ref=t,this.fb=n,this.systemNotificationService=r,this.etnFractionService=a,this.confirmationService=o,this.etnCompanyService=i,this.form=this.fb.group({etn:["",s.s.required],etnCompany:["",s.s.required],ratio:["",s.s.required]}),this.fractionRecords=[],this.fractionsForm=this.fb.group({fractions:this.fb.array([])}),this.symbol="",this.header="Edit Etn Fractions",this.tickerList=[]}ngOnInit(){var e;return Object(l.a)(this,void 0,void 0,(function*(){(yield this.etnCompanyService.getTickersList()).forEach(e=>{this.tickerList.push({label:e,value:e})}),this.symbol=null===(e=this.config.data)||void 0===e?void 0:e.formData,this.header=this.config.header,this.form=this.fb.group({etn:[this.symbol?this.symbol:"",s.s.required],etnCompany:["",s.s.required],ratio:["",[s.s.required,s.s.min(0),s.s.pattern("^-?[0-9]\\d*(\\.\\d{1,5})?$")]]}),yield this.loadData()}))}loadData(){return Object(l.a)(this,void 0,void 0,(function*(){this.fractionRecords=yield this.etnFractionService.getEtnFractions(this.symbol),this.fractionsForm=this.fb.group({fractions:this.fb.array(this.fractionRecords.map(e=>this.createEtnFractionGroup(e)))}),this.fractionItemArray=this.fractionsForm.get("fractions").controls}))}save(){if(!this.form.valid)return this.systemNotificationService.error("Please, fill all required fields"),void this.form.markAllAsTouched();this.etnFractionService.saveEtnFraction(this.form.getRawValue()).then(()=>{this.loadData(),this.form.get("etnCompany").reset(),this.form.get("ratio").reset()}).catch(e=>{this.systemNotificationService.error(e.error)})}createEtnFractionGroup(e){return this.fb.group({etn:[Object(m.j)(e,"etn"),s.s.required],etnCompany:[Object(m.j)(e,"etnCompany"),s.s.required],ratio:[Object(m.j)(e,"ratio"),[s.s.required,s.s.min(0),s.s.pattern("^-?[0-9]\\d*(\\.\\d{1,5})?$")]]})}close(){this.ref.close({update:!1})}saveFraction(e){if(!e.valid)return this.systemNotificationService.error("Please, fill all required fields"),void e.markAllAsTouched();this.etnFractionService.saveEtnFraction(e.getRawValue()).then(()=>this.loadData()).catch(e=>{this.systemNotificationService.error(e.error)})}deleteFraction(e){this.confirmationService.confirm({header:"Delete Etn Fraction",message:"Are you sure you want to delete the Etn Fraction?",icon:"pi pi-info-circle",acceptLabel:"Yes",rejectLabel:"No",accept:()=>{this.etnFractionService.remove(e.getRawValue()).then(()=>this.systemNotificationService.success("Etn successfully removed")).then(()=>this.loadData()).catch(e=>this.systemNotificationService.error(e.error))}})}}return e.\u0275fac=function(t){return new(t||e)(x["\u0275\u0275directiveInject"](g.b),x["\u0275\u0275directiveInject"](g.d),x["\u0275\u0275directiveInject"](s.c),x["\u0275\u0275directiveInject"](o.a),x["\u0275\u0275directiveInject"](re),x["\u0275\u0275directiveInject"](I.a),x["\u0275\u0275directiveInject"](ae.a))},e.\u0275cmp=x["\u0275\u0275defineComponent"]({type:e,selectors:[["edit-fractions"]],decls:38,vars:20,consts:[[3,"fxLayoutGap","fxLayout"],[1,"header"],[1,"divider"],[1,"form-wrapper",3,"fxLayout"],[1,"form-field-1",3,"formGroup","ngSubmit"],["detailsForm","ngForm"],[1,"form-field-1"],[1,"label",3,"fxLayout"],["pInputText","","formControlName","etn","placeholder","Etn Symbol",3,"readOnly"],[3,"fxLayout","fxLayoutGap"],[1,"color-red"],["formControlName","etnCompany","id","etnCompany","name","etnCompany","required","true",1,"input",3,"fxLayout","options","placeholder"],["etnCompany",""],["formControlName","ratio","pInputText","","placeholder","Ratio","type","text"],[1,"form-field-1",2,"display","flex","align-items","center"],["label","Add New","type","submit"],["fxLayout","column","fxLayoutGap","1em",3,"formGroup"],["formArrayName","fractions"],[4,"ngFor","ngForOf"],[2,"margin-bottom","10px",3,"fxLayoutAlign","fxLayout"],[3,"fxLayoutAlign","fxLayoutGap","fxLayout"],["label","Close","type","button",1,"ui-button-secondary","button_select","no-padding","refresh",3,"click"],[3,"formGroup"],["pInputText","","formControlName","etnCompany","placeholder","Company Ticker",3,"readOnly"],["formControlName","ratio","pInputText","","placeholder","Ratio","type","text",3,"readOnly"],["label","Edit",3,"onClick",4,"ngIf"],["label","Save",3,"onClick",4,"ngIf"],["label","Delete",3,"onClick"],["label","Edit",3,"onClick"],["label","Save",3,"onClick"]],template:function(e,t){1&e&&(x["\u0275\u0275elementStart"](0,"div",0),x["\u0275\u0275elementStart"](1,"div",1),x["\u0275\u0275elementStart"](2,"label"),x["\u0275\u0275text"](3),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275element"](4,"div",2),x["\u0275\u0275elementStart"](5,"div",3),x["\u0275\u0275elementStart"](6,"div"),x["\u0275\u0275elementStart"](7,"form",4,5),x["\u0275\u0275listener"]("ngSubmit",(function(){return t.save()})),x["\u0275\u0275elementStart"](9,"div",6),x["\u0275\u0275elementStart"](10,"span",7),x["\u0275\u0275text"](11," Etn Symbol "),x["\u0275\u0275elementEnd"](),x["\u0275\u0275element"](12,"input",8),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](13,"div"),x["\u0275\u0275elementStart"](14,"div",9),x["\u0275\u0275elementStart"](15,"div",6),x["\u0275\u0275elementStart"](16,"span",7),x["\u0275\u0275text"](17," Company Ticker"),x["\u0275\u0275elementStart"](18,"span",10),x["\u0275\u0275text"](19,"*"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275element"](20,"p-dropdown",11,12),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](22,"div",6),x["\u0275\u0275elementStart"](23,"span",7),x["\u0275\u0275text"](24," Ratio"),x["\u0275\u0275elementStart"](25,"span",10),x["\u0275\u0275text"](26,"*"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275element"](27,"input",13),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](28,"div",14),x["\u0275\u0275element"](29,"p-button",15),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](30,"div",16),x["\u0275\u0275elementStart"](31,"span",7),x["\u0275\u0275text"](32," Etn Fractions: "),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementContainerStart"](33,17),x["\u0275\u0275template"](34,le,10,7,"ng-container",18),x["\u0275\u0275elementContainerEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](35,"div",19),x["\u0275\u0275elementStart"](36,"div",20),x["\u0275\u0275elementStart"](37,"p-button",21),x["\u0275\u0275listener"]("click",(function(){return t.close()})),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"]()),2&e&&(x["\u0275\u0275property"]("fxLayoutGap","1.1em")("fxLayout","column"),x["\u0275\u0275advance"](3),x["\u0275\u0275textInterpolate"](t.header),x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("fxLayout","column"),x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("formGroup",t.form),x["\u0275\u0275advance"](3),x["\u0275\u0275property"]("fxLayout","row"),x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("readOnly",!0),x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("fxLayout","row")("fxLayoutGap","1em"),x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("fxLayout","row"),x["\u0275\u0275advance"](4),x["\u0275\u0275property"]("fxLayout","row")("options",t.tickerList)("placeholder","Choose the ticker"),x["\u0275\u0275advance"](3),x["\u0275\u0275property"]("fxLayout","row"),x["\u0275\u0275advance"](7),x["\u0275\u0275property"]("formGroup",t.fractionsForm),x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("fxLayout","row"),x["\u0275\u0275advance"](3),x["\u0275\u0275property"]("ngForOf",t.fractionItemArray),x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("fxLayoutAlign","end end"),x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("fxLayoutAlign","center center")("fxLayoutGap","1em"))},directives:[S.e,S.d,s.t,s.k,s.f,s.a,v.a,s.j,s.e,b.a,s.r,L.a,s.b,r.NgForOf,S.c,r.NgIf],styles:["[_nghost-%COMP%]     .ui-inputtext.ng-dirty.ng-invalid{border-color:red}.host[_ngcontent-%COMP%]     .ui-inputtext.ng-dirty.ng-invalid, .ui-inputtext.ng-touched.ng-invalid[_ngcontent-%COMP%]{border:1px solid red}.color-red[_ngcontent-%COMP%], [_nghost-%COMP%]   .color-red[_ngcontent-%COMP%]{color:red!important}.message[_ngcontent-%COMP%]{width:100%}.bold[_ngcontent-%COMP%]{font-weight:700}.resize[_ngcontent-%COMP%]{min-height:40px!important}[_nghost-%COMP%]     .ui-button-secondary, [_nghost-%COMP%]     .ui-button-secondary:active, [_nghost-%COMP%]     .ui-button-secondary:focus, [_nghost-%COMP%]     .ui-button-secondary:hover{background-color:transparent;border:none;font-family:GothamMedium;color:#c09a5d;box-shadow:none}[_nghost-%COMP%]     .ui-button-secondary .pi{color:#007ad9}[_nghost-%COMP%]     .ui-button-secondary .ui-button, [_nghost-%COMP%]     .ui-button-secondary .ui-button:enabled, [_nghost-%COMP%]     .ui-button-secondary .ui-button:enabled:active, [_nghost-%COMP%]     .ui-button-secondary .ui-button:hover{background-color:transparent;border:none;font-family:GothamMedium;color:#c09a5d;box-shadow:none}.elements-control.ng-invalid[_ngcontent-%COMP%]{border-bottom:1px solid red}.input-text[_ngcontent-%COMP%]{width:50%}.simple-name[_ngcontent-%COMP%]{margin-top:10px!important}.form-field-1[_ngcontent-%COMP%]{margin-bottom:1%}.divider[_ngcontent-%COMP%]{width:100%;height:1px;background-color:#c8c8c8;margin-bottom:5px;margin-top:5px}.header[_ngcontent-%COMP%]{padding-top:.5em;font-weight:700}.form-wrapper[_ngcontent-%COMP%]{justify-content:space-between;min-height:45vh}"]}),e})();var me=n("LHhM"),de=n("jlOU"),ce=n("rEr+"),pe=n("1SLH"),ue=n("6t4m");function fe(e,t){1&e&&(x["\u0275\u0275elementStart"](0,"tr"),x["\u0275\u0275elementStart"](1,"th",11),x["\u0275\u0275text"](2,"Symbol"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](3,"th",11),x["\u0275\u0275text"](4,"Currency"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](5,"th",11),x["\u0275\u0275text"](6,"Simple name"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](7,"th",11),x["\u0275\u0275text"](8,"Description"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](9,"th",11),x["\u0275\u0275text"](10,"Creation Date"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](11,"th",11),x["\u0275\u0275text"](12,"Created By"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](13,"th",11),x["\u0275\u0275text"](14,"Comment"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](15,"th",11),x["\u0275\u0275text"](16,"Status"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](17,"th",11),x["\u0275\u0275text"](18,"Top"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](19,"th",11),x["\u0275\u0275text"](20,"Action"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"]()),2&e&&(x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("width","9%"),x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("width","9%"),x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("width","9% "),x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("width","25%"),x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("width","10%"),x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("width","10%"),x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("width","10%"),x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("width","7%"),x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("width","5%"),x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("width","6%"))}function ye(e,t){if(1&e&&(x["\u0275\u0275elementStart"](0,"td"),x["\u0275\u0275text"](1),x["\u0275\u0275elementEnd"]()),2&e){const e=x["\u0275\u0275nextContext"]().$implicit;x["\u0275\u0275advance"](1),x["\u0275\u0275textInterpolate"](e.simpleName)}}function xe(e,t){if(1&e&&(x["\u0275\u0275elementStart"](0,"td"),x["\u0275\u0275text"](1),x["\u0275\u0275elementEnd"]()),2&e){const e=x["\u0275\u0275nextContext"]().$implicit;x["\u0275\u0275advance"](1),x["\u0275\u0275textInterpolate"](e.description)}}function ge(e,t){if(1&e&&(x["\u0275\u0275elementContainerStart"](0),x["\u0275\u0275template"](1,ye,2,1,"td",14),x["\u0275\u0275template"](2,xe,2,1,"td",14),x["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit,n=x["\u0275\u0275nextContext"]().$implicit;x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("ngIf",n.translates&&"ru"===e.languageCode),x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("ngIf",n.translates&&"ru"===e.languageCode)}}function ve(e,t){1&e&&(x["\u0275\u0275elementStart"](0,"td"),x["\u0275\u0275text"](1),x["\u0275\u0275elementEnd"]()),2&e&&(x["\u0275\u0275advance"](1),x["\u0275\u0275textInterpolate"](" "))}function he(e,t){1&e&&(x["\u0275\u0275elementStart"](0,"td"),x["\u0275\u0275text"](1),x["\u0275\u0275elementEnd"]()),2&e&&(x["\u0275\u0275advance"](1),x["\u0275\u0275textInterpolate"](" "))}function Ee(e,t){if(1&e){const e=x["\u0275\u0275getCurrentView"]();x["\u0275\u0275elementStart"](0,"tr"),x["\u0275\u0275elementStart"](1,"td",12),x["\u0275\u0275text"](2),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](3,"td",12),x["\u0275\u0275text"](4),x["\u0275\u0275elementEnd"](),x["\u0275\u0275template"](5,ge,3,2,"ng-container",13),x["\u0275\u0275template"](6,ve,2,1,"td",14),x["\u0275\u0275template"](7,he,2,1,"td",14),x["\u0275\u0275elementStart"](8,"td",12),x["\u0275\u0275text"](9),x["\u0275\u0275pipe"](10,"date"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](11,"td",12),x["\u0275\u0275text"](12),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](13,"td",12),x["\u0275\u0275text"](14),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](15,"td",12),x["\u0275\u0275text"](16),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](17,"td",12),x["\u0275\u0275element"](18,"p-checkbox",15),x["\u0275\u0275elementStart"](19,"label",16),x["\u0275\u0275text"](20,"TOP"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](21,"td",17),x["\u0275\u0275elementStart"](22,"i",18),x["\u0275\u0275listener"]("click",(function(t){return x["\u0275\u0275restoreView"](e),x["\u0275\u0275reference"](24).toggle(t)})),x["\u0275\u0275elementEnd"](),x["\u0275\u0275element"](23,"p-menu",19,20),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=x["\u0275\u0275nextContext"]();x["\u0275\u0275advance"](2),x["\u0275\u0275textInterpolate"](e.symbol),x["\u0275\u0275advance"](2),x["\u0275\u0275textInterpolate"](null==e?null:e.currency),x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("ngForOf",e.translates),x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("ngIf",!e.translates.length),x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("ngIf",!e.translates.length),x["\u0275\u0275advance"](2),x["\u0275\u0275textInterpolate"](x["\u0275\u0275pipeBind2"](10,14,null==e?null:e.createdAt,"dd.MM.yy (HH:mm)")),x["\u0275\u0275advance"](3),x["\u0275\u0275textInterpolate"](null==e?null:e.createdBy),x["\u0275\u0275advance"](2),x["\u0275\u0275textInterpolate"](null==e?null:e.comment),x["\u0275\u0275advance"](2),x["\u0275\u0275textInterpolate"](e.status),x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("ngModel",e.isTop),x["\u0275\u0275advance"](3),x["\u0275\u0275property"]("className","pointer"),x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("fxLayoutAlign","center center"),x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("popup",!0)("model",n.tableActionItemsMap.get(e.symbol))}}const Ce=function(){return[5,10,15,20]};function Se(e,t){if(1&e){const e=x["\u0275\u0275getCurrentView"]();x["\u0275\u0275elementStart"](0,"p-paginator",22),x["\u0275\u0275listener"]("onPageChange",(function(t){return x["\u0275\u0275restoreView"](e),x["\u0275\u0275nextContext"](2).onPageChange(t)})),x["\u0275\u0275elementEnd"]()}if(2&e){const e=x["\u0275\u0275nextContext"](2);x["\u0275\u0275property"]("rowsPerPageOptions",x["\u0275\u0275pureFunction0"](3,Ce))("rows",null==e.request?null:e.request.pageSize)("totalRecords",e.response.total)}}function be(e,t){if(1&e&&x["\u0275\u0275template"](0,Se,1,4,"p-paginator",21),2&e){const e=x["\u0275\u0275nextContext"]();x["\u0275\u0275property"]("ngIf",e.response.data.length>0)}}function Ie(e,t){1&e&&(x["\u0275\u0275elementStart"](0,"tr",23),x["\u0275\u0275elementStart"](1,"td",23),x["\u0275\u0275text"](2," No data to display "),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"]()),2&e&&(x["\u0275\u0275advance"](1),x["\u0275\u0275attribute"]("colspan",8))}const Le=[{path:"",component:(()=>{class e{constructor(e,t,n,r){this.etnService=e,this.dialogService=t,this.confirmationService=n,this.systemNotificationService=r,this.response=new me.a(new Array,0),this.data=[],this.request=new i.a,this.tableActionItemsMap=new Map}ngOnInit(){this.loadData()}loadData(){this.isLoading=!0,this.etnService.getEtns(this.request).then(e=>{var t;this.response=e,null===(t=this.response.data)||void 0===t||t.forEach(e=>this.setTableActions(e)),this.isLoading=!1}).catch(()=>this.isLoading=!1)}onPageChange(e){this.request.page=e.page,this.request.pageSize=e.rows,this.loadData()}setTableActions(e){this.tableActionItemsMap.set(e.symbol,this.getTableActions(e))}removeEtn(e){this.confirmationService.confirm({header:"Delete Etn",message:"Are you sure you want to delete the Etn?",icon:"pi pi-info-circle",acceptLabel:"Yes",rejectLabel:"No",accept:()=>{this.etnService.remove(e).then(()=>this.systemNotificationService.success("Etn successfully removed")).then(()=>this.loadData()).catch(e=>this.systemNotificationService.error(e.error))}})}getTableActions(e){return[{label:"Edit",command:()=>{this.onEditClick(e.symbol)}},{label:"Edit Fractions",command:()=>{this.onEditFractionsClick(e.symbol)}},{label:"Remove",command:()=>{this.removeEtn(e.symbol)}}]}onAddNewClick(){this.openEditDialog(null)}onEditClick(e){this.etnService.getDetail(e).then(e=>{e&&e.symbol?this.openEditDialog(e):(this.loadData(),this.systemNotificationService.error("Could not get detail"))}).catch(e=>this.systemNotificationService.error(e.error))}onEditFractionsClick(e){this.openEditFractionsDialog(e)}openEditDialog(e){this.dialogService.open(te,{header:e?"Editing ETN: "+e.symbol:"New ETN",showHeader:!1,closable:!1,width:"900px",contentStyle:{"max-height":"90vh","min-height":"55vh",overflow:"auto"},data:{formData:e}}).onClose.subscribe(e=>{e.update&&this.loadData()})}openEditFractionsDialog(e){this.dialogService.open(se,{header:"Editing ETN Fractions",showHeader:!1,closable:!1,width:"900px",contentStyle:{"max-height":"90vh","min-height":"55vh",overflow:"auto"},data:{formData:e}}).onClose.subscribe(e=>{e.update&&this.loadData()})}}return e.\u0275fac=function(t){return new(t||e)(x["\u0275\u0275directiveInject"](d.a),x["\u0275\u0275directiveInject"](g.a),x["\u0275\u0275directiveInject"](I.a),x["\u0275\u0275directiveInject"](o.a))},e.\u0275cmp=x["\u0275\u0275defineComponent"]({type:e,selectors:[["etn"]],decls:15,vars:8,consts:[["fxFill",""],[3,"fxLayout","fxLayoutGap"],[3,"fxLayout","fxLayoutAlign"],[3,"fxLayoutAlign","fxLayoutGap"],["label","Add New",1,"ui-button-secondary","button_select","no-padding","refresh",3,"click"],[3,"fxLayout"],["fxFill","",3,"value","loading","resizableColumns"],["pTemplate","header"],["pTemplate","body"],["pTemplate","summary"],["pTemplate","emptymessage"],["pResizableColumn","",3,"width"],[1,"ui-resizable-column"],[4,"ngFor","ngForOf"],[4,"ngIf"],["binary","true","disabled","","id","labelTop",3,"ngModel"],["for","labelTop",1,"check-label"],[1,"ui-resizable-column",3,"className"],[1,"pi","pi-ellipsis-v","action",3,"fxLayoutAlign","click"],["appendTo","body",3,"popup","model"],["actions",""],[3,"rowsPerPageOptions","rows","totalRecords","onPageChange",4,"ngIf"],[3,"rowsPerPageOptions","rows","totalRecords","onPageChange"],[1,"no-data-found"]],template:function(e,t){1&e&&(x["\u0275\u0275elementStart"](0,"app-content"),x["\u0275\u0275elementStart"](1,"app-title"),x["\u0275\u0275text"](2,"ETN for Market Data"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275element"](3,"app-subtitle"),x["\u0275\u0275elementStart"](4,"app-wrapper",0),x["\u0275\u0275elementStart"](5,"div",1),x["\u0275\u0275elementStart"](6,"div",2),x["\u0275\u0275elementStart"](7,"div",3),x["\u0275\u0275elementStart"](8,"p-button",4),x["\u0275\u0275listener"]("click",(function(){return t.onAddNewClick()})),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](9,"div",5),x["\u0275\u0275elementStart"](10,"p-table",6),x["\u0275\u0275template"](11,fe,21,10,"ng-template",7),x["\u0275\u0275template"](12,Ee,25,17,"ng-template",8),x["\u0275\u0275template"](13,be,1,1,"ng-template",9),x["\u0275\u0275template"](14,Ie,3,1,"ng-template",10),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"]()),2&e&&(x["\u0275\u0275advance"](5),x["\u0275\u0275property"]("fxLayout","column")("fxLayoutGap","1em"),x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("fxLayoutAlign","end end"),x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("fxLayoutAlign","center center")("fxLayoutGap","1em"),x["\u0275\u0275advance"](3),x["\u0275\u0275property"]("value",t.response.data)("loading",t.isLoading)("resizableColumns",!0))},directives:[de.a,S.f,S.d,S.e,S.c,L.a,ce.i,I.e,ce.f,r.NgForOf,r.NgIf,E.a,s.j,s.m,pe.a,ue.a],pipes:[r.DatePipe],styles:["[_nghost-%COMP%]   .pointer[_ngcontent-%COMP%]{cursor:pointer}.check-label[_ngcontent-%COMP%]{margin-left:2px}"]}),e})()}];let Oe=(()=>{class e{}return e.\u0275mod=x["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=x["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[a.g.forChild(Le)],a.g]}),e})();var je=n("BAkx"),we=n("xlun"),Ae=n("NCSE"),Ne=n("eO1q"),Te=n("PCNd");let _e=(()=>{class e{}return e.\u0275mod=x["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=x["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},providers:[r.DatePipe,c.a,g.a,d.a,y.a],imports:[[pe.b,je.a,Te.a,g.c,s.h,we.b,h.b,Ae.b,Ne.b,r.CommonModule,Oe,E.b]]}),e})()}}]);